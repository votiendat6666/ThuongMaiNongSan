{% extends 'user/layout.html' %}

{% block title %} Hồ sơ cá nhân {% endblock %}

{% block content_right %}
<div style="background-color:#fff; padding:20px 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">

<h2 style=" text-align: center;
            font-size: 28px;
            font-weight: 800;
            color: #565555;
            margin-bottom: 30px;
            display: inline-block;
            padding-bottom: 6px;"> Hồ sơ cá nhân </h2>


<form method="POST" action="/profile" enctype="multipart/form-data" style="width: 95% ; margin: auto; ">
    {% set label_style = "display: flex; align-items: center; margin-bottom: 18px; color: #555;" %}
    {% set label_text_style = "width: 180px; font-weight: 400;" %}
    {% set input_style = "width: 70%; padding: 10px; border-radius: 5px; border: 1px solid #ccc;" %}

    <div style="{{ label_style }}">
        <label for="ho" style="{{ label_text_style }}">Họ</label>
        <input type="text" id="ho" name="ho" value="{{ user.ho or '' }}" style="{{ input_style }}" required>
    </div>

    <div style="{{ label_style }}">
        <label for="ten" style="{{ label_text_style }}">Tên</label>
        <input type="text" id="ten" name="ten" value="{{ user.ten or '' }}" style="{{ input_style }}" required>
    </div>

    <div style="{{ label_style }}">
        <label for="sdt" style="{{ label_text_style }}">Số điện thoại</label>
        <input type="text" id="sdt" name="sdt" value="{{ user.sdt or '' }}" style="{{ input_style }}">
    </div>



    <div style="{{ label_style }}">
        <label for="email" style="{{ label_text_style }}">Email</label>
        <input type="email" id="email" name="email" value="{{ user.email or '' }}" style="{{ input_style }}" required>
    </div>

    <div style="{{ label_style }}">
        <span style="{{ label_text_style }}">Giới tính</span>
        <div style="flex: 1; display: flex; gap: 24px;">
            <label><input type="radio" name="gender" value="MALE" {% if user.gender == 'MALE' %}checked{% endif %}> Nam</label>
            <label><input type="radio" name="gender" value="FEMALE" {% if user.gender == 'FEMALE' %}checked{% endif %}> Nữ</label>
            <label><input type="radio" name="gender" value="OTHER" {% if user.gender == 'OTHER' %}checked{% endif %}> Khác</label>
        </div>
    </div>

    <div style="{{ label_style }}">
        <label for="birthday" style="{{ label_text_style }}">Ngày sinh</label>
        <input type="date" id="birthday" name="birthday" value="{{ user.birthday or '' }}" style="{{ input_style }}">
    </div>
    {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div style=" color: #155724; padding: 12px 20px;  margin-bottom: 20px;width: 95%; margin: auto; text-align: center;">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}

    <div style="text-align: center; margin-top: 30px;">
        <button type="submit"
                style="background-color: #C92127; color: white; border: none; padding: 12px 36px;
                       border-radius: 6px; cursor: pointer; font-weight: 700; font-size: 16px;">
            Lưu thông tin
        </button>
    </div>
</form>


<script>
    const input = document.getElementById('avatar');
    const fileName = document.getElementById('file-name');
    if(input){
        input.addEventListener('change', function () {
            fileName.textContent = this.files[0]?.name || '';
        });
    }
</script>
{% endblock %}
</div>